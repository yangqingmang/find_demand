# 实时性分析功能指南

## 概述

实时性分析功能是关键词评估系统的重要增强，用于评估关键词的时效性和热度趋势。该功能通过多维度分析，帮助识别具有高时效性和增长潜力的关键词。

## 功能特点

### 1. 多维度实时性评估
- **搜索趋势分析** (40%权重): 基于Google Trends数据分析关键词搜索趋势
- **新闻热度分析** (30%权重): 评估关键词在新闻媒体中的热度和提及频率
- **社交媒体热度** (20%权重): 分析关键词在社交平台的传播和互动情况
- **季节性分析** (10%权重): 识别关键词的季节性模式和当前时机

### 2. 智能评分系统
- **A级 (80-100分)**: 极高时效性 - 热门趋势
- **B级 (60-79分)**: 高时效性 - 上升趋势
- **C级 (40-59分)**: 中等时效性 - 稳定关注
- **D级 (20-39分)**: 低时效性 - 下降趋势
- **F级 (0-19分)**: 无时效性 - 过时内容

### 3. 趋势方向识别
- **Rising**: 上升趋势 - 搜索量持续增长
- **Stable**: 稳定趋势 - 搜索量保持平稳
- **Falling**: 下降趋势 - 搜索量正在下降

## 使用方法

### 1. 独立使用实时性分析器

```python
from src.demand_mining.analyzers.timeliness_analyzer import TimelinessAnalyzer
import pandas as pd

# 创建分析器
analyzer = TimelinessAnalyzer()

# 准备数据
df = pd.DataFrame({
    'query': ['chatgpt tutorial', 'ai image generator', 'stable diffusion'],
    'value': [1000, 2500, 3200],
    'growth': [50, 80, 120]
})

# 分析实时性
result_df = analyzer.analyze_timeliness(df)

# 生成摘要
summary = analyzer.generate_timeliness_summary(result_df)
print(f"平均实时性评分: {summary['average_timeliness_score']}")
```

### 2. 集成到关键词评分系统

```python
from src.demand_mining.analyzers.keyword_scorer import KeywordScorer

# 创建包含实时性权重的评分器
scorer = KeywordScorer(
    volume_weight=0.25,      # 搜索量权重
    growth_weight=0.25,      # 增长率权重
    kd_weight=0.15,          # 关键词难度权重
    kgr_weight=0.15,         # KGR权重
    timeliness_weight=0.2    # 实时性权重
)

# 进行综合评分
scored_df = scorer.score_keywords(df, calculate_timeliness=True)
```

### 3. 命令行使用

```bash
# 独立实时性分析
python -m src.demand_mining.analyzers.timeliness_analyzer \
    --input data/keywords.csv \
    --output results/

# 集成评分分析
python -m src.demand_mining.analyzers.keyword_scorer \
    --input data/keywords.csv \
    --output results/ \
    --timeliness-weight 0.2
```

## 输出结果说明

### 主要指标

| 字段 | 说明 | 范围 |
|------|------|------|
| `timeliness_score` | 综合实时性评分 | 0-100 |
| `timeliness_grade` | 实时性等级 | A/B/C/D/F |
| `trend_direction` | 趋势方向 | rising/stable/falling |
| `viral_potential` | 病毒传播潜力 | high/medium/low |

### 详细分析数据

| 字段 | 说明 |
|------|------|
| `trend_score` | 搜索趋势评分 |
| `growth_rate` | 趋势增长率 |
| `news_score` | 新闻热度评分 |
| `news_sentiment` | 新闻情感倾向 |
| `social_score` | 社交媒体热度 |
| `engagement_rate` | 社交媒体互动率 |
| `seasonal_score` | 季节性评分 |
| `seasonal_relevance` | 季节性相关度 |

## 实际应用场景

### 1. 内容创作时机选择
```python
# 找出高时效性关键词，适合立即创作内容
high_timeliness = df[df['timeliness_grade'].isin(['A', 'B'])]
print("建议立即创作内容的关键词:")
print(high_timeliness[['query', 'timeliness_score', 'trend_direction']])
```

### 2. 上升趋势关键词挖掘
```python
# 识别上升趋势的关键词，抢占先机
rising_trends = df[df['trend_direction'] == 'rising']
print("上升趋势关键词:")
print(rising_trends.sort_values('growth_rate', ascending=False))
```

### 3. 季节性内容规划
```python
# 识别季节性关键词，提前规划内容
seasonal_keywords = df[df['seasonal_relevance'] != 'none']
print("季节性关键词:")
print(seasonal_keywords[['query', 'seasonal_score', 'current_season_match']])
```

## 测试结果示例

根据测试结果，实时性分析功能表现良好：

### 测试数据分析
- **总关键词数**: 20个
- **平均实时性评分**: 44.7分
- **等级分布**: D级(9个), C级(8个), B级(3个)
- **高时效性关键词**: 3个
- **上升趋势关键词**: 6个

### 评分影响分析
实时性分析对关键词评分产生显著影响：
- `chatgpt tutorial`: +9分 (实时性评分: 76.3)
- `openai api`: +7分 (实时性评分: 77.5)
- `how to learn python`: +6分 (实时性评分: 49.0)

## 配置选项

### 权重调整
可以根据业务需求调整各维度权重：

```python
analyzer = TimelinessAnalyzer(
    trends_weight=0.5,      # 更重视搜索趋势
    news_weight=0.2,        # 降低新闻权重
    social_weight=0.2,      # 保持社交媒体权重
    seasonal_weight=0.1     # 保持季节性权重
)
```

### 禁用特定功能
```bash
# 禁用实时性分析
python -m src.demand_mining.analyzers.keyword_scorer \
    --input data/keywords.csv \
    --disable-timeliness

# 禁用KGR计算
python -m src.demand_mining.analyzers.keyword_scorer \
    --input data/keywords.csv \
    --disable-kgr
```

## 注意事项

1. **数据源限制**: 当前使用模拟数据，实际部署时需要配置真实的API接口
2. **API配额**: 使用真实Google Trends API时需要注意配额限制
3. **更新频率**: 建议定期更新实时性分析，保持数据时效性
4. **权重调整**: 根据不同行业和业务需求调整权重配置

## 未来优化方向

1. **实时数据接入**: 集成更多实时数据源
2. **机器学习预测**: 使用ML模型预测趋势变化
3. **行业定制**: 针对不同行业提供专门的实时性评估模型
4. **自动化监控**: 实现关键词实时性的自动监控和预警

## 总结

实时性分析功能为关键词评估系统增加了重要的时间维度，帮助用户：
- ✅ 识别热门趋势关键词
- ✅ 把握内容创作时机
- ✅ 提高SEO效果
- ✅ 优化内容策略

通过多维度的实时性评估，用户可以更准确地判断关键词的价值和优先级，从而制定更有效的内容和SEO策略。